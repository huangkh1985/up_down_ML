# 批量股票预测功能使用指南 📊

## ✨ 新功能：支持批量输入多个股票代码

系统现在支持一次性输入多个股票代码进行批量分析，大大提高了分析效率！

---

## 🎯 功能特点

### 1. **灵活的输入方式**
支持多种分隔符：
- ✅ 逗号分隔: `600519,000001,002415`
- ✅ 中文逗号: `600519，000001，002415`
- ✅ 空格分隔: `600519 000001 002415`
- ✅ 分号分隔: `600519;000001;002415`
- ✅ 混合使用: `600519, 000001 002415`

### 2. **智能验证**
- 自动过滤无效代码
- 显示警告信息
- 只处理有效的6位数字代码

### 3. **批量处理**
- 循环处理每个股票
- 显示实时进度
- 错误不影响其他股票

### 4. **优雅展示**
- **单个股票**：直接显示详细结果
- **多个股票**：
  - 快速概览表格（对比所有股票）
  - 标签页详细分析（每个股票独立页面）

---

## 📖 使用方法

### 方法1: 输入框批量输入

1. 在股票代码输入框中输入多个代码
2. 用逗号、空格或分号分隔
3. 点击"🚀 开始预测"

**示例**：
```
输入: 600519,000001,600036,000858
或者: 600519 000001 600036 000858
```

---

### 方法2: 快速选择 + 手动追加

1. 点击快速选择按钮（如"贵州茅台"）
2. 在输入框中追加其他代码
3. 点击"🚀 开始预测"

**示例**：
```
先点击"贵州茅台"按钮 → 输入框显示: 600519
手动追加: 600519,000001,600036
```

---

### 方法3: 自定义股票组合

保存常用的股票组合：
```
白酒板块: 600519,000858,603369
银行板块: 000001,600036,601398
科技板块: 002415,300750,688981
```

---

## 🖥️ 界面展示

### 单个股票（传统模式）

输入：`600519`

**显示**：
```
📈 600519 - 多时间窗口综合预测

当前价格: ¥1850.00  涨跌幅: +2.35%
数据天数: 250天

[标签页]
- 📊 综合决策
- 📈 MA20预测
- 🔄 形态信号
- 📉 价格走势
```

---

### 多个股票（批量模式）

输入：`600519,000001,600036`

**显示**：

#### 第1步：处理进度
```
📊 正在批量分析 3 只股票: 600519, 000001, 600036

⏳ 正在处理 600519 (1/3)...
⏳ 正在处理 000001 (2/3)...
⏳ 正在处理 600036 (3/3)...

✅ 成功分析 3 只股票
```

#### 第2步：快速概览
```
📋 快速概览

股票代码 | 当前价格  | 涨跌幅   | 1天   | 3天   | 5天   | 10天
--------|----------|---------|-------|-------|-------|-------
600519  | ¥1850.00 | +2.35%  | 强烈  | 推荐  | 推荐  | 观望
000001  | ¥12.50   | -0.80%  | 观望  | 观望  | 推荐  | 推荐
600036  | ¥45.80   | +1.20%  | 推荐  | 强烈  | 强烈  | 推荐
```

#### 第3步：详细分析标签页
```
[标签页]
📊 600519 | 📊 000001 | 📊 600036

[点击任一标签查看该股票的完整分析]
- 综合决策
- MA20预测（ML vs 规则方法）
- 形态信号预测
- 价格走势图
```

---

## 💡 使用技巧

### 技巧1: 板块对比分析
```bash
# 分析整个板块的表现
输入: 600519,000858,603369,600809  # 白酒板块
```

**优势**：
- 快速对比板块内个股强弱
- 发现轮动机会
- 板块整体趋势判断

---

### 技巧2: 自选股批量监控
```bash
# 监控自选股池
输入: 600519,000001,600036,002415,300750
```

**优势**：
- 一次性查看所有自选股
- 节省逐个查询的时间
- 快速发现交易机会

---

### 技巧3: 对照股对比
```bash
# 同类股对比
输入: 600036,601398  # 对比招商银行和工商银行
```

**优势**：
- 横向对比强弱
- 资金轮动判断
- 更优选股

---

### 技巧4: 组合投资分析
```bash
# 分析持仓组合
输入: 600519,000858,600036,002415
```

**优势**：
- 整体持仓评估
- 风险分散验证
- 调仓决策支持

---

## ⚙️ 高级功能

### 1. 错误处理

**无效代码自动过滤**：
```
输入: 600519,abc,000001,12345

显示:
⚠️ 以下股票代码格式不正确，已忽略: abc, 12345
📊 正在批量分析 2 只股票: 600519, 000001
```

---

### 2. 部分失败继续处理

**某个股票失败不影响其他**：
```
⏳ 正在处理 600519 (1/3)... ✅
⏳ 正在处理 999999 (2/3)... ⚠️ 无法获取 999999 的数据，跳过
⏳ 正在处理 600036 (3/3)... ✅

✅ 成功分析 2 只股票
```

---

### 3. 数据缓存

- 相同股票在1小时内不重复下载
- 提高批量分析速度
- 减少网络请求

---

## 📊 实际应用案例

### 案例1: 每日盘前快速扫描

**目标**：筛选今日交易机会

**操作**：
```
1. 输入自选股: 600519,000001,600036,002415,300750
2. 选择MA策略: 动态选择
3. 查看1天和3天预测
4. 重点关注"强烈"建议的股票
```

---

### 案例2: 板块轮动捕捉

**目标**：发现强势板块

**操作**：
```
1. 分别输入不同板块代表股:
   - 白酒: 600519,000858,603369
   - 银行: 000001,600036,601398
   - 科技: 002415,300750,688981

2. 对比各板块"强烈"建议数量
3. 选择强势板块深入分析
```

---

### 案例3: 持仓组合诊断

**目标**：评估持仓健康度

**操作**：
```
1. 输入所有持仓股票代码
2. 查看5天和10天预测
3. 统计"观望"和"推荐"比例
4. 根据结果调整仓位
```

---

## ⚠️ 注意事项

### 1. 数量限制

**建议**：
- 单次建议不超过**10个**股票
- 过多会影响加载速度
- 可以分批次处理

---

### 2. 时间成本

**预计耗时**（取决于网络速度）：
- 1个股票: 2-5秒
- 3个股票: 6-15秒
- 5个股票: 10-25秒
- 10个股票: 20-50秒

---

### 3. 快速概览 vs 详细分析

**快速概览**：
- 适合快速筛选
- 只看核心指标
- 适合大量股票

**详细分析**：
- 深入研究单个股票
- 查看所有指标和图表
- 适合重点关注股票

---

## 🎓 最佳实践

### ✅ 推荐做法

1. **分组分析**
   - 按板块分组输入
   - 每组3-5个股票
   - 便于对比和决策

2. **保存常用组合**
   - 建立自选股文本文件
   - 快速复制粘贴
   - 提高效率

3. **结合MA策略**
   - 短期交易用MA10
   - 中期投资用MA20
   - 不确定用动态选择

---

### ❌ 不推荐做法

1. **一次输入太多**
   - 超过10个影响体验
   - 结果太多难以分析

2. **重复输入相同代码**
   - 浪费处理时间
   - 结果重复显示

3. **忽略概览表格**
   - 直接跳到详细分析
   - 错过整体对比机会

---

## 🔧 故障排除

### 问题1: 输入多个代码后没反应

**解决方案**：
- 检查是否点击了"开始预测"按钮
- 确认代码格式正确（6位数字）
- 查看是否有错误提示

---

### 问题2: 部分股票无法获取数据

**原因**：
- 股票代码错误
- 网络连接问题
- 该股票在选定时间段无数据

**解决方案**：
- 核对股票代码
- 检查网络连接
- 调整时间段

---

### 问题3: 批量分析速度慢

**优化方法**：
- 减少单次输入数量（≤5个）
- 选择较短的时间段
- 避免高峰时段使用

---

## 📚 相关功能

- **单股深度分析**：输入单个代码查看完整分析
- **历史记录**：查看之前的预测历史
- **快速选择**：一键选择常用股票
- **时间段选择**：自定义数据时间范围

---

## 💬 反馈与建议

如果您有以下需求，欢迎反馈：
- [ ] 增加批量导出功能
- [ ] 支持股票代码文件上传
- [ ] 保存自定义股票组合
- [ ] 批量对比图表
- [ ] 批量预警设置

---

## 📖 示例完整流程

### 场景：盘前扫描5只自选股

```
步骤1: 打开应用
→ http://localhost:8501

步骤2: 选择时间段
→ 点击"近3月"快速选择

步骤3: 输入股票代码
→ 600519,000001,600036,002415,300750

步骤4: 选择策略
→ 预测方法: 两种方法对比
→ MA策略: 动态选择

步骤5: 开始预测
→ 点击"🚀 开始预测"

步骤6: 查看概览
→ 快速浏览各股票的1天、3天建议

步骤7: 深入分析
→ 点击感兴趣的股票标签页
→ 查看详细的ML预测、技术分析和走势图

步骤8: 做出决策
→ 重点关注"强烈"推荐的股票
→ 结合形态信号确认入场时机
```

---

**版本**：v3.1 (批量预测功能)  
**更新日期**：2025-10-05  
**功能状态**：✅ 已上线可用

